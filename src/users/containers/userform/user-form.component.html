<app-gov-uk-main-wrapper [backLink]="'/users'" [heading]="'Invite user'">
  <p class="govuk-body">When you send this invitation, the user will receive an email from HM Courts and
     Tribunals Registrations so they can finish setting up their account.</p>
  <form [formGroup]="inviteUserForm" (ngSubmit)="onSubmit()">
     <div class="govuk-form-group">
       <label class="govuk-label govuk-label--m" for="firstname">
           First name(s)
        </label>
       <span id="firstname-hint" class="govuk-hint">
           Include all middle names.
        </span>
       <input class="govuk-input" id="firstName" name="firstName" type="text"
              aria-describedby="firstname-hint" formControlName="firstName">
       <div class="form-control-feedback">
         <p id="event-name-error" class="govuk-error-message" *ngIf="isSubmitted && isInvalid.firstName">Enter a first name</p>
       </div>
     </div>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--m" for="lastname">
           Last name
        </label>
      <input class="govuk-input" id="lastName" type="text" formControlName="lastName">
      <div class="form-control-feedback" >
        <p id="event-name-error" class="govuk-error-message"
           *ngIf="isSubmitted && isInvalid.lastName">Enter a last name</p>
      </div>
    </div>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--m" for="emailaddress">
           Email address
        </label>
      <input class="govuk-input" id="emailaddress" formControlName="emailAddress" name="emailaddress" type="text">
      <div class="form-control-feedback" >
        <p id="event-name-error" class="govuk-error-message"
           *ngIf="isSubmitted && isInvalid.emailAddress">Enter an email address</p>
        <p id="event-name-error" class="govuk-error-message"
           *ngIf="isSubmitted && isInvalid.emailAddressEmail" >Email must contain at least the @ character</p>
      </div>
    </div>
    <div class="govuk-form-group" formGroupName="permissions">
      <fieldset class="govuk-fieldset" aria-describedby="permissions-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              Permissions
           </legend>
        <span id="permissions-hint" class="govuk-hint">
              Choose what the user will be able to do. You can change this later.
           </span>
        <div class="form-control-feedback" >
          <p id="event-name-error" class="govuk-error-message"
             *ngIf="isSubmitted && isInvalid.permissions">Select at least one option</p>
        </div>
        <div class="govuk-checkboxes">
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" name="create_permissions" type="checkbox" formControlName="createCases"
            value="cases" aria-describedby="permissions-1-item-hint">
            <label class="govuk-label govuk-checkboxes__label" for="permissions-1">
                    Create cases
                 </label>
            <span id="permissions-1-item-hint" class="govuk-hint govuk-checkboxes__hint">
                    Create, progress and view the status of the user's own cases.
                 </span>
          </div>
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="permissions-2" name="view_permissions" formControlName="viewCases"
            type="checkbox" value="organisation-view" aria-describedby="permissions-2-item-hint">
            <label class="govuk-label govuk-checkboxes__label" for="permissions-2">
                    View organisation's cases
                 </label>
            <span id="permissions-2-item-hint" class="govuk-hint govuk-checkboxes__hint">
                    View the status of all cases created by the organisation's users.
                 </span>
          </div>
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="permissions-3"  name="manage_permissions"
            type="checkbox" value="users" aria-describedby="permissions-3-item-hint" formControlName="manageUsers">
            <label class="govuk-label govuk-checkboxes__label" for="permissions-3">
                    Manage users
                 </label>
            <span id="permissions-3-item-hint" class="govuk-hint govuk-checkboxes__hint">
                    View and invite users.
                 </span>
          </div>
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="permissions-4"  name="view_org_permissions"
            type="checkbox" value="organisation" aria-describedby="permissions-4-item-hint" formControlName="viewDetails">
            <label class="govuk-label govuk-checkboxes__label" for="permissions-4">
                    View organisation details
                 </label>
            <span id="permissions-4-item-hint" class="govuk-hint govuk-checkboxes__hint">
                    View the organisation's name and address.
                 </span>
          </div>
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="permissions-5" name="view_fee_permissions"
            type="checkbox" value="payment" aria-describedby="permissions-5-item-hint" formControlName="viewFees">
            <label class="govuk-label govuk-checkboxes__label" for="permissions-5">
                    View fee accounts
                 </label>
            <span id="permissions-5-item-hint" class="govuk-hint govuk-checkboxes__hint">
                    View account balances, available credit and transactions.
                 </span>
          </div>
        </div>
      </fieldset>
    </div>
    <button type="submit" class="govuk-button">
        Send invitation
     </button>
  </form>
</app-gov-uk-main-wrapper>
